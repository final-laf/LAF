<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/myPage/myPageBoard/myPageReview.css">
  <title>LAF :: 내 리뷰 관리</title>

</head>
<body th:with="review=${myReview}, writtenReview=${myWrittenReview}">
  <th:block th:replace="~{/common/header}"></th:block>
  <th:block th:replace="~{/common/nav}"></th:block>
  
  <main>
    <!-- 마이페이지 sidebar -->
    <th:block th:replace="~{/mypage/mypageSide}"></th:block>
    
    <!-- 작성 가능한 리뷰 -->
    <section id="mypageReview">
      <!-- 섹션 헤더(제목, 설명) -->
      <div class="section-header">
        <div class="section-title">내 리뷰 관리</div>
      </div>

      <!-- 하위 메뉴 -->
      <div class="sub-category-container">
        <!-- 현재 카테고리에 current 클래스 추가 -->
        <a href="/myPage/review"><div class="sub-category current">작성 가능한 리뷰(<span th:text="${myOrder.size}">수량</span>)</div></a>
        <a href="/myPage/review/list"><div class="sub-category">작성한 리뷰(<span th:text="${writtenReview.size}">23</span>)</div></a>
      </div>

      <section id="reviewList">
        <table>
          <tr>
            <td class="item-order-info">주문정보</td>
            <td class="item-image">이미지</td>
            <td class="item-product">상품정보</td>
            <td class="item-count">수량</td>
            <td class="item-price-set">상품금액</td>
            <td class="item-choose">선택</td>
          </tr>
          <!-- 작성 가능 리뷰 없을때 -->
          <tr th:if="${myOrder==null}">
            <td colspan="6" class="item-empty">작성 가능한 리뷰가 없습니다.</td>
          </tr>
          <!-- 작성 가능 리뷰 있을 때 -->
          <tr th:each="r:${myOrder}">
            <td class="item-order-info" >
              <div class="item-order-no" th:text="${r.orderNo}">[23060400001001]</div>
            </td>
            <td class="item-image">
              <a href="/product/1">
                <img th:src="${r.product.thumbnailPath}">
              </a>
            </td>
            <td class="item-product">
              <a href="/order/${r.orderNo}" th:text="${r.product.productName}">
                제품명
              </a>
              <p class="item-product-option">[옵션 : 
                <span class="item-selected-option" th:text="${r.option.color}">컬러</span>/<span class="item-selected-option" th:text="${r.option.size}">사이즈</span>]
              </p>
            </td>
            <td class="item-count" th:text="${r.count}">2</td>
            <td class="item-price-set">
              <div class="item-price" th:text="${r.product.productPrice}">가격</div>
            </td>
            <td class="item-choose">
              <button>리뷰수정</button>
              <button>&times; 삭제</button>
            </td>
          </tr>
        </table>
      </section>
      <!-- 페이징 -->
      <div class="pagination-area">

        <ul class="pagination">
        
          <!-- 첫 페이지로 이동 -->
          <li><a><img src="/images/common/paging/first-page.svg"></a></li>

          <!-- 이전 목록 마지막 번호로 이동 -->
          <li><a><img src="/images/common/paging/prev-page.svg"></a></li>

          <li><a class="current">1</a></li>
          <li><a>2</a></li>
          <li><a>3</a></li>
          <li><a>4</a></li>
          <li><a>5</a></li>
          <li><a>6</a></li>

          <!-- 다음 목록 시작 번호로 이동 -->
          <li><a><img src="/images/common/paging/next-page.svg"></a></li>
          
          <!-- 끝 페이지로 이동 -->
          <li><a><img src="/images/common/paging/last-page.svg"></a></li>
        </ul>
      </div>
    </section>
  </main>

  <th:block th:replace="~{/common/footer}"></th:block>
</body>
</html>