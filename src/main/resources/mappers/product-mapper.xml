<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.kh.laf.product.model.mapper.ProductMapper">

	<!-- 상품 번호로 상품 정보 조회 -->
	<select id="selectProduct" resultType="Product">
		SELECT `product`.product_no,
				product_name,
				product_price,
				product_sale,
				product_state,
				DATE_FORMAT(product_date, '%Y-%m-%d') AS product_date,
				click_count,
				img_path AS thumbnail_path
		FROM   `product`
				JOIN `product_img` ON `product`.product_no = `product_img`.product_no
		WHERE  `product`.product_no = 1
				AND img_thumb = 'Y'
	</select>

	<!-- 모든 상품 목록 조회 -->
	<select id="selectProductList" resultType="list">
		SELECT 	product_no,
				product_name,
				product_price,
				product_sale,
				product_state,
				DATE_FORMAT(product_date, '%Y-%m-%d') AS product_date,
				click_count
		FROM   `product`
	</select>
</mapper>

